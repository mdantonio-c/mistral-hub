<nav class="map-sidenav" [class.collapsed]="isCollapsed">
  <div class="map-sidenav-menu">
    <!-- partial collapse -->
    <!--<input id="toggle" type="checkbox" />-->
    <label
      class="toggle"
      (click)="isCollapsed = !isCollapsed"
      [class.collapsed]="isCollapsed"
    ></label>
    <ul class="selector">
      <li class="sidenav-item">
        <span class="t2m clickable" (click)="toggleLayer($event, 't2m')"></span>
        <a href="#" *ngIf="!isCollapsed" (click)="toggleLayer($event, 't2m')">
          <span class="nav-text">Temperature</span>
        </a>
      </li>
      <li class="sidenav-item">
        <span class="prs clickable" (click)="toggleLayer($event, 'prs')"></span>
        <a href="#" *ngIf="!isCollapsed" (click)="toggleLayer($event, 'prs')">
          <span class="nav-text">Pressure</span>
        </a>
      </li>
      <li class="sidenav-item">
        <span class="rh clickable" (click)="toggleLayer($event, 'rh')"></span>
        <a href="#" *ngIf="!isCollapsed" (click)="toggleLayer($event, 'rh')">
          <span class="nav-text">Relative humidity</span>
        </a>
      </li>
      <li class="sidenav-item">
        <span class="prp clickable" (click)="toggleLayer($event, 'prp')"></span>
        <ng-container *ngIf="!isCollapsed">
          <a href="#" (click)="toggleLayer($event, 'prp')">
            <span class="nav-text">precipitation</span>
          </a>
          <div class="selettore-orario">
            <div class="progressbar">
              <label *ngFor="let h of PRECIPITATION_HOURS; let last = last">
                <input
                  type="checkbox"
                  [checked]="h.selected"
                  [attr.disabled]="isLayerActive('prp') ? null : true"
                  (change)="changeHour($event, h, 'prp')"
                />
                <span *ngIf="!last"></span>
                {{ h.value + "h" }}
              </label>
            </div>
          </div>
        </ng-container>
      </li>
      <li class="sidenav-item">
        <span class="sf clickable" (click)="toggleLayer($event, 'sf')"></span>
        <ng-container *ngIf="!isCollapsed">
          <a href="#" (click)="toggleLayer($event, 'sf')">
            <span class="nav-text">Snow Fall</span>
          </a>
          <div class="selettore-orario">
            <div class="progressbar">
              <label *ngFor="let h of SNOW_HOURS; let last = last">
                <input
                  type="checkbox"
                  [checked]="h.selected"
                  [attr.disabled]="isLayerActive('sf') ? null : true"
                  (change)="changeHour($event, h, 'sf')"
                />
                <span *ngIf="!last"></span>
                {{ h.value + "h" }}
              </label>
            </div>
          </div>
        </ng-container>
      </li>
      <li class="sidenav-item last">
        <span class="cc clickable" (click)="toggleLayer($event, 'cc')"></span>
        <ng-container *ngIf="!isCollapsed">
          <a href="#" (click)="toggleLayer($event, 'cc')">
            <span class="nav-text">Clouds</span>
          </a>
          <div class="selettore-clouds">
            <label *ngFor="let lvl of CLOUD_LEVELS">
              <input
                type="checkbox"
                [checked]="lvl.selected"
                [attr.disabled]="isLayerActive('cc') ? null : true"
                (change)="changeHour($event, lvl, 'cc')"
              />
              {{ lvl.value }}
            </label>
          </div>
        </ng-container>
      </li>
      <li class="sidenav-item">
        <span class="input"></span>
        <ng-container *ngIf="!isCollapsed">
          <a href="#" click-stop-propagation>
            <span class="nav-text">Selected dataset</span>
          </a>
          <div class="selettore-dataset">
            <ng-container *ngFor="let ds of availableDatasets">
              <a
                id="{{ ds.code }}"
                href="#"
                (click)="changeDataset($event, ds.code)"
                [ngClass]="{ selected: dataset === ds.code }"
                >{{ ds.desc }}</a
              >
            </ng-container>
          </div>
        </ng-container>
      </li>
      <li class="sidenav-item last multi-model">
        <div class="custom-control custom-switch">
          <input
            type="checkbox"
            class="custom-control-input"
            [checked]="mmProductSwitch"
            [attr.disabled]="isShowedMultiModel ? null : true"
            (change)="switchMMProduct()"
            id="mmSwitch"
          />
          <label class="custom-control-label" for="mmSwitch"></label>
        </div>
        <div class="selettore-multimodel" *ngIf="!isCollapsed">
          <a href="#" click-stop-propagation>
            <span class="nav-text">Multi-model ensemble</span>
          </a>
          <input
            id="show-mm-ensemble"
            type="checkbox"
            class="clickable"
            [ngClass]="{ active: isShowedMultiModel }"
            [(ngModel)]="isShowedMultiModel"
            (click)="toggleMultiModel()"
          />
          <p>
            Selected: <span></span
            >{{ MultiModelProductLabel.get(this.mmProduct) }}
          </p>
        </div>
      </li>
      <li class="sidenav-item">
        <span class="plus clickable" (click)="zoom($event, 'in')"></span>
        <a href="#" *ngIf="!isCollapsed" (click)="zoom($event, 'in')">
          <span class="nav-text">Zoom in</span>
        </a>
      </li>
      <li class="sidenav-item last">
        <span class="minus clickable" (click)="zoom($event, 'out')"></span>
        <a href="#" *ngIf="!isCollapsed" (click)="zoom($event, 'out')">
          <span class="nav-text">Zoom out</span>
        </a>
      </li>
    </ul>
  </div>
</nav>
