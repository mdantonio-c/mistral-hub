<ngx-spinner
  [name]="'timeseries-spinner'"
  bdColor="rgba(255,255,255,0.8)"
  color="#6c757d"
  zIndex="1000"
  [fullScreen]="false"
  type="ball-clip-rotate-multiple"
  size="medium"
>
</ngx-spinner>
<div *ngIf="report; else noData">
  <div class="mx-5 my-2 text-justify">
    <h3 class="text-center">
      {{ filter.product }}
      <ng-container *ngIf="filter.level">
        <br /><small>{{ filter.level }}</small>
      </ng-container>
      <ng-container *ngIf="filter.timerange">
        <br /><small>{{ filter.timerange }}</small>
      </ng-container>
    </h3>
  </div>
  <div #containerRef>
    <ngx-charts-line-chart
      [view]="[containerRef.offsetWidth, 400]"
      [animations]="true"
      [scheme]="colorScheme"
      [xAxis]="true"
      [yAxis]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="false"
      [xAxisLabel]="xAxisLabelFormatting()"
      [xAxisTickFormatting]="xAxisTickFormattingFn"
      [timeline]="false"
      [results]="multi"
      [autoScale]="true"
      [legend]="true"
      [legendTitle]="'Stations'"
    >
    </ngx-charts-line-chart>
  </div>
</div>

<ng-template #noData>
  <div class="row mt-4">
    <div class="col">
      <div class="no-results" *ngIf="!loading">
        <h2>No Data</h2>
        <p>Try to apply a different filter</p>
      </div>
    </div>
  </div>
</ng-template>
